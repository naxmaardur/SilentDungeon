[gd_scene load_steps=21 format=3 uid="uid://qbie0btfifiu"]

[ext_resource type="PackedScene" uid="uid://ca48i1g4dsogi" path="res://Prefabs/scene_trigger.tscn" id="1_np5iv"]
[ext_resource type="PackedScene" uid="uid://corj1hsbn67cg" path="res://Prefabs/Map/hallsingle.tscn" id="2_cp3de"]
[ext_resource type="PackedScene" uid="uid://co4tqdiq1a4xg" path="res://Prefabs/Map/portcullis_3.tscn" id="3_b8fkk"]
[ext_resource type="PackedScene" uid="uid://by7kohja75es5" path="res://Warden Alert.tscn" id="11_evdd4"]
[ext_resource type="PackedScene" uid="uid://d2isqk1swtydt" path="res://Prefabs/Map/hall_t.tscn" id="18_tacds"]
[ext_resource type="PackedScene" uid="uid://36s87eg7nqq5" path="res://Prefabs/Map/hall_i.tscn" id="23_o6hmh"]
[ext_resource type="PackedScene" uid="uid://bwsbl8pe5pb5b" path="res://Prefabs/Map/hall_l.tscn" id="25_thbb2"]
[ext_resource type="PackedScene" uid="uid://crccfd58bnnm3" path="res://Prefabs/Map/stairs.tscn" id="26_7f7sl"]
[ext_resource type="PackedScene" uid="uid://d21gvf2irpg2x" path="res://Prefabs/Map/room_i.tscn" id="28_6akoe"]
[ext_resource type="ArrayOccluder3D" uid="uid://drrmauo3e5mgh" path="res://Levels/Floor2_1.occ" id="29_cuvka"]
[ext_resource type="PackedScene" uid="uid://de7aey8osl5wr" path="res://Prefabs/Map/torch.tscn" id="29_rppm6"]
[ext_resource type="PackedScene" uid="uid://4wemtc8mky7t" path="res://AIActors/warden_actor.tscn" id="31_1kt5d"]
[ext_resource type="PackedScene" uid="uid://rgxgx7bxoco4" path="res://Prefabs/item_spawner.tscn" id="32_ir4lb"]
[ext_resource type="Resource" uid="uid://bu7mvqc4rv783" path="res://Items/LootTable/Floor1Normal.tres" id="33_m60s7"]
[ext_resource type="PackedScene" uid="uid://5yxqc1p33ljs" path="res://Prefabs/SpikeTrap.tscn" id="34_6jjil"]

[sub_resource type="Gradient" id="Gradient_ogyxr"]
colors = PackedColorArray(0, 0, 0, 1, 1, 0.477854, 0.410056, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_binqp"]
gradient = SubResource("Gradient_ogyxr")

[sub_resource type="Environment" id="Environment_750sr"]
ambient_light_color = Color(1, 0, 0, 1)
volumetric_fog_enabled = true
volumetric_fog_albedo = Color(1, 0, 0, 1)
adjustment_enabled = true
adjustment_color_correction = SubResource("GradientTexture1D_binqp")

[sub_resource type="BoxShape3D" id="BoxShape3D_swpwa"]
size = Vector3(5.49463, 5.146, 1)

[sub_resource type="NavigationMesh" id="NavigationMesh_8js33"]
vertices = PackedVector3Array(1.5, -0.401405, -14.4, 1.5, -0.401405, -15.9, 1, -0.401405, -16.15, -0.75, -0.401405, -15.15, -1, -0.401405, -18.9, -1.25, -0.401405, -13.65, -0.75, -0.401405, -15.15, -1, -0.401405, -21.15, -1.5, -0.401405, -20.9, -1.5, -0.401405, -19.15, -1, -0.401405, -18.9, -6.5, -0.401405, -24.9, -6.5, -0.401405, -23.15, -5.25, -0.401405, -23.15, -5.25, -0.401405, -24.9, -1.25, -0.401405, -24.9, -2.75, -0.401405, -24.9, -2.75, -0.401405, -23.15, -1, -0.401405, -22.9, 1.25, -0.401405, -25.15, -1, -0.401405, -22.9, -1, -0.401405, -21.15, -5, -0.401405, -25.4, -5.25, -0.401405, -24.9, -5.25, -0.401405, -23.15, -5.25, -0.401405, -23.15, -5, -0.401405, -22.65, -3, -0.401405, -22.65, -2.75, -0.401405, -23.15, -2.75, -0.401405, -24.9, -5, -0.401405, -25.4, -2.75, -0.401405, -24.9, -3, -0.401405, -25.4, -5, -0.401405, -25.4, -1, -0.401405, -18.9, -0.75, -0.401405, -15.15, 1, -0.401405, -16.15, 1.25, -0.401405, -25.15, -1, -0.401405, -21.15, 1.25, -0.401405, -25.15, -1, -0.401405, -25.4, -1.25, -0.401405, -24.9, -1, -0.401405, -22.9, 2, -0.401405, -2.9, 2, -0.401405, -1.15, 2.75, -0.401405, -1.15, 3, -0.401405, -3.15, 1, -0.401405, -12.4, -1, -0.401405, -13.4, -1.25, -0.401405, -10.9, 1.25, -0.401405, -10.9, 5.5, -0.401405, -1.15, 5.5, -0.401405, -2.9, 5, -0.401405, -3.15, 5, -0.401405, -8.9, 5.5, -0.401405, -9.15, 5.5, -0.401405, -10.9, 3, -0.401405, -7.15, 2, -0.401405, -6.9, 2, -0.401405, -5.15, 3, -0.401405, -4.9, 3, -0.401405, -8.9, 3, -0.401405, -7.15, 5, -0.401405, -7.15, 5, -0.401405, -8.9, 2.75, -0.401405, -1.15, 3, -0.401405, -0.65, 5, -0.401405, -0.65, 5.5, -0.401405, -1.15, 5, -0.401405, -3.15, 3, -0.401405, -3.15, -5, -0.401405, -8.15, -3, -0.401405, -8.15, -2.75, -0.401405, -9.15, -2.75, -0.401405, -10.9, -3, -0.401405, -11.4, -5.25, -0.401405, -11.15, -1.25, -0.401405, -9.15, -1, -0.401405, -8.15, 1, -0.401405, -8.15, 1.25, -0.401405, -9.15, 1.25, -0.401405, -10.9, -1.25, -0.401405, -10.9, 3, -0.401405, -4.9, 3, -0.401405, -3.15, 5, -0.401405, -3.15, -2.75, -0.401405, -9.15, -1.25, -0.401405, -9.15, -1.25, -0.401405, -10.9, -2.75, -0.401405, -10.9, 5, -0.401405, -8.9, 5.5, -0.401405, -10.9, 5, -0.401405, -11.4, 1.25, -0.401405, -10.9, 1.25, -0.401405, -9.15, 3, -0.401405, -8.9, 3, -0.401405, -7.15, 3, -0.401405, -4.9, 5, -0.401405, -3.15, 5.5, -0.401405, -6.9, 5, -0.401405, -7.15, -1, -0.401405, -4.15, 1, -0.401405, -4.15, 1, -0.401405, -4.9, 1, -0.401405, -4.9, 2, -0.401405, -5.15, 2, -0.401405, -6.9, 1, -0.401405, -7.15, 1, -0.401405, -7.15, 1, -0.401405, -8.15, -1, -0.401405, -8.15, -5, -0.401405, -4.15, -3, -0.401405, -4.15, -2.75, -0.401405, -5.15, -2.75, -0.401405, -6.9, -3, -0.401405, -8.15, -5, -0.401405, -8.15, -1.25, -0.401405, -6.9, -1.25, -0.401405, -5.15, -1, -0.401405, -4.15, 1, -0.401405, -4.9, 1, -0.401405, -7.15, -1, -0.401405, -8.15, -2.75, -0.401405, -5.15, -1.25, -0.401405, -5.15, -1.25, -0.401405, -6.9, -2.75, -0.401405, -6.9, 2, -0.401405, -1.15, 2, -0.401405, -2.9, 1, -0.401405, -3.15, 1, -0.401405, -3.15, 1, -0.401405, -4.15, -1, -0.401405, -4.15, 1, -0.401405, -0.9, 2, -0.401405, -1.15, 1, -0.401405, -3.15, -1, -0.401405, -4.15, -1.25, -0.401405, -2.9, -1, -0.401405, -0.9, -1.25, 3.5986, 10.6, 1.5, 3.5986, 10.6, 1, -0.401405, 0.85, -1, -0.401405, -0.9, -1.0625, -0.151405, 1.975, -1.21875, 3.3486, 9.1625, 1.42857, 3.3486, 9.20714, 1.07143, -0.151405, 2.24286, -5, -0.401405, -0.65, -3, -0.401405, -0.65, -2.75, -0.401405, -1.15, -2.75, -0.401405, -2.9, -3, -0.401405, -4.15, -5, -0.401405, -4.15, 1.5, 3.5986, 10.6, 1.5, -0.401405, 1.1, 1, -0.401405, 0.85, 1.07143, -0.151405, 2.24286, 1.42857, 3.3486, 9.20714, 1.5, 2.8486, 7.88571, 1.5, 0.598595, 3.81429, -1.25, -0.401405, -2.9, -2.75, -0.401405, -2.9, -2.75, -0.401405, -1.15, -1, -0.401405, -0.9, 1, -0.401405, 0.85, 1, -0.401405, -0.9, -1, -0.401405, -0.9)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(4, 6, 5), PackedInt32Array(8, 7, 9), PackedInt32Array(9, 7, 10), PackedInt32Array(14, 13, 11), PackedInt32Array(11, 13, 12), PackedInt32Array(16, 15, 17), PackedInt32Array(17, 15, 18), PackedInt32Array(21, 20, 19), PackedInt32Array(24, 23, 22), PackedInt32Array(28, 27, 29), PackedInt32Array(29, 27, 26), PackedInt32Array(29, 26, 25), PackedInt32Array(29, 25, 30), PackedInt32Array(33, 32, 31), PackedInt32Array(35, 34, 36), PackedInt32Array(36, 34, 38), PackedInt32Array(36, 38, 37), PackedInt32Array(41, 40, 42), PackedInt32Array(42, 40, 39), PackedInt32Array(44, 43, 45), PackedInt32Array(45, 43, 46), PackedInt32Array(50, 49, 47), PackedInt32Array(47, 49, 48), PackedInt32Array(53, 52, 51), PackedInt32Array(56, 55, 54), PackedInt32Array(58, 57, 59), PackedInt32Array(59, 57, 60), PackedInt32Array(64, 63, 61), PackedInt32Array(61, 63, 62), PackedInt32Array(66, 65, 67), PackedInt32Array(67, 65, 68), PackedInt32Array(68, 65, 69), PackedInt32Array(69, 65, 70), PackedInt32Array(74, 73, 75), PackedInt32Array(75, 73, 72), PackedInt32Array(75, 72, 71), PackedInt32Array(75, 71, 76), PackedInt32Array(78, 77, 79), PackedInt32Array(79, 77, 80), PackedInt32Array(80, 77, 82), PackedInt32Array(80, 82, 81), PackedInt32Array(85, 84, 83), PackedInt32Array(89, 88, 86), PackedInt32Array(86, 88, 87), PackedInt32Array(91, 90, 92), PackedInt32Array(92, 90, 95), PackedInt32Array(92, 95, 94), PackedInt32Array(92, 94, 93), PackedInt32Array(100, 99, 96), PackedInt32Array(96, 99, 97), PackedInt32Array(97, 99, 98), PackedInt32Array(103, 102, 101), PackedInt32Array(105, 104, 106), PackedInt32Array(106, 104, 107), PackedInt32Array(110, 109, 108), PackedInt32Array(112, 111, 113), PackedInt32Array(113, 111, 114), PackedInt32Array(114, 111, 115), PackedInt32Array(115, 111, 116), PackedInt32Array(119, 118, 120), PackedInt32Array(120, 118, 117), PackedInt32Array(120, 117, 121), PackedInt32Array(121, 117, 122), PackedInt32Array(126, 125, 123), PackedInt32Array(123, 125, 124), PackedInt32Array(129, 128, 127), PackedInt32Array(132, 131, 130), PackedInt32Array(134, 133, 135), PackedInt32Array(135, 133, 138), PackedInt32Array(135, 138, 137), PackedInt32Array(135, 137, 136), PackedInt32Array(140, 139, 145), PackedInt32Array(145, 139, 144), PackedInt32Array(145, 144, 146), PackedInt32Array(146, 144, 143), PackedInt32Array(146, 143, 141), PackedInt32Array(141, 143, 142), PackedInt32Array(149, 148, 150), PackedInt32Array(150, 148, 151), PackedInt32Array(151, 148, 147), PackedInt32Array(151, 147, 152), PackedInt32Array(155, 154, 156), PackedInt32Array(156, 154, 159), PackedInt32Array(156, 159, 158), PackedInt32Array(156, 158, 157), PackedInt32Array(157, 158, 153), PackedInt32Array(161, 160, 162), PackedInt32Array(162, 160, 163), PackedInt32Array(166, 165, 164)]

[node name="Node3D" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_750sr")

[node name="SceneTrigger" parent="." instance=ExtResource("1_np5iv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.57074, 6.81129)

[node name="CollisionShape3D" parent="SceneTrigger" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.54187, 1.66689, 0)
shape = SubResource("BoxShape3D_swpwa")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.181454, 0, 0)
navigation_mesh = SubResource("NavigationMesh_8js33")

[node name="props" type="Node3D" parent="NavigationRegion3D"]

[node name="Hallsingle" parent="NavigationRegion3D" instance=ExtResource("2_cp3de")]
transform = Transform3D(-1, 8.74228e-08, 3.82138e-15, 0, -4.37114e-08, 1, 8.74228e-08, 1, 4.37114e-08, 0.000545576, 1.88942, -14.9664)

[node name="Portcullis_3" parent="NavigationRegion3D/Hallsingle" instance=ExtResource("3_b8fkk")]
transform = Transform3D(0.0217823, -0.000989929, -0.0115746, -0.0111451, -0.00871959, -0.0202281, -0.00327717, 0.023074, -0.00814072, -7.50832, -0.258237, -4.5442)

[node name="Stairs" parent="NavigationRegion3D" instance=ExtResource("26_7f7sl")]
transform = Transform3D(-1, 8.74228e-08, 3.82137e-15, 0, -4.37114e-08, 1, 8.74228e-08, 1, 4.37114e-08, 2.38419e-07, 1.13679, 6)

[node name="Room_I" parent="NavigationRegion3D" instance=ExtResource("28_6akoe")]
transform = Transform3D(-1, -3.17865e-08, -1.38943e-15, 0, -4.37114e-08, 1, -3.17865e-08, 1, 4.37114e-08, -2.38419e-07, -0.863208, -6)

[node name="Hall_L" parent="NavigationRegion3D/Room_I" instance=ExtResource("25_thbb2")]
transform = Transform3D(-4.37114e-08, -1, -4.37114e-08, 1, -4.37114e-08, -4.37114e-08, 4.37114e-08, -4.37114e-08, 1, 5.66244e-07, -18, -9.53674e-07)

[node name="Hall_T" parent="NavigationRegion3D/Room_I/Hall_L" instance=ExtResource("18_tacds")]
transform = Transform3D(-5.56363e-08, 1, 4.37114e-08, -1, -5.56363e-08, -3.17865e-08, -3.17865e-08, -4.37114e-08, 1, 0, -14, -5.96046e-07)

[node name="HallI" parent="NavigationRegion3D/Room_I/Hall_L/Hall_T" instance=ExtResource("23_o6hmh")]
transform = Transform3D(1, 0, -1.34328e-16, 0, 1, 0, -1.34328e-16, 0, 1, 9.53674e-07, -13, -4.76837e-07)

[node name="Hall_L" parent="NavigationRegion3D/Room_I/Hall_L/Hall_T/HallI" instance=ExtResource("25_thbb2")]
transform = Transform3D(-1, 1.19209e-07, -3.17865e-08, -1.19209e-07, -1, -8.74228e-08, -3.17865e-08, -8.74228e-08, 1, -9.53674e-07, -14, -5.96046e-07)

[node name="Hall_L" parent="NavigationRegion3D/Room_I/Hall_L/Hall_T" instance=ExtResource("25_thbb2")]
transform = Transform3D(1, -3.17865e-08, 5.56363e-08, 3.17865e-08, 1, 1.77636e-14, -5.56363e-08, -1.06581e-14, 1, 9.53674e-07, 13, 5.96046e-07)

[node name="Lights" type="Node3D" parent="."]

[node name="Torch" parent="Lights" instance=ExtResource("29_rppm6")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 1.83515, 0.904703, -11.9775)

[node name="Torch2" parent="Lights" instance=ExtResource("29_rppm6")]
transform = Transform3D(-1, -8.74228e-08, -3.82137e-15, 0, -4.37114e-08, 1, -8.74228e-08, 1, 4.37114e-08, -1.472, 0.905, -11.978)

[node name="SpotLight3D" type="SpotLight3D" parent="Lights"]
transform = Transform3D(1, 0, 0, 0, 0.931463, 0.363837, 0, -0.363837, 0.931463, 0.0017128, 8.01339, 16.2952)
spot_range = 28.0037
spot_angle = 19.1901

[node name="OccluderInstance3D" type="OccluderInstance3D" parent="."]
visible = false
occluder = ExtResource("29_cuvka")
bake_mask = 4294967291

[node name="ItemSpawner" parent="." instance=ExtResource("32_ir4lb")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.68259, -0.346634, -8.54028)
lootTable = ExtResource("33_m60s7")

[node name="SpikeTrap" parent="." instance=ExtResource("34_6jjil")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0.723797, -0.862998, -17.9885)
alwaysRun = true

[node name="SpikeTrap2" parent="." node_paths=PackedStringArray("delaytimer", "activetimer") instance=ExtResource("34_6jjil")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0.723797, -0.862998, -15.2366)
delaytimer = NodePath("../SpikeTrap/DelayTimer")
activetimer = NodePath("../SpikeTrap/ActiveTimer")
alwaysRun = true

[node name="SpikeTrap3" parent="." node_paths=PackedStringArray("delaytimer", "activetimer") instance=ExtResource("34_6jjil")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0.723797, -0.862998, -12.1197)
delaytimer = NodePath("../SpikeTrap/DelayTimer")
activetimer = NodePath("../SpikeTrap/ActiveTimer")
alwaysRun = true

[node name="WardenActor" parent="." instance=ExtResource("31_1kt5d")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.288135, 0.130772, -19.9595)
walkSpeed = 2.0

[node name="WardenActor2" parent="." instance=ExtResource("31_1kt5d")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.16552, -0.15417, -19.9738)
walkSpeed = 2.0

[node name="WardenActor3" parent="." instance=ExtResource("31_1kt5d")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.67321, -0.196831, -20.4445)
walkSpeed = 2.0

[node name="CanvasLayer" parent="." instance=ExtResource("11_evdd4")]

[editable path="SceneTrigger"]
